import{r as T,T as P,c as u,o as d,a as o,b as r,u as s,Z as L,w as l,f as _,n as U,F as v,e as x,t as y,g as W,O as j,d as n,R as O,S as R,P as Y,k as M,N as h}from"./app-B17NwYzj.js";import{_ as Z}from"./PageHeader-DfBjB2Gc.js";import{_ as G}from"./Panel-BlBCMgbm.js";import{_ as $}from"./PrimaryButton-C9dUpZNY.js";import{_ as c}from"./Input-CCipsDxT.js";import{_ as B}from"./Textarea-DZAIuFrQ.js";import{_ as p}from"./Label-DpRV0xzp.js";import{_ as f}from"./Error-DseFUriH.js";import{a as E}from"./DialogModal-BYxkMqdg.js";import{_ as D}from"./Flex-BY-wEFr9.js";import{T as H}from"./Trash-BfWq0Mu2.js";import"./PureButton-Cwn7JU-l.js";const J={class:"row-py mb-2xl w-full mx-auto"},K={class:"row-px"},Q={key:0,class:"mb-4 flex flex-wrap gap-2"},X=["onClick"],ee={key:1,class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},te={class:"flex items-start justify-between mb-2"},oe={class:"font-medium text-gray-900 dark:text-gray-100"},se={key:0,class:"text-xs text-gray-400 mt-0.5"},le=["onClick"],re=["onClick"],ae={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mb-2 line-clamp-2"},ne={class:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-3"},ie={key:2,class:"text-center py-12 text-gray-500"},de={class:"space-y-4"},ue={id:"category-suggestions"},me=["value"],ge={class:"space-y-4"},pe={id:"category-suggestions-edit"},ye=["value"],Se={__name:"PostTemplates",props:{templates:{type:Array,required:!0},categories:{type:Array,default:()=>[]},current_category:{type:String,default:null}},setup(g){const b=T(!1),k=T(!1),w=T(null),i=P({name:"",description:"",content:[{body:"",media:[]}],category:""}),a=P({name:"",description:"",content:[{body:"",media:[]}],category:""}),q=()=>{i.reset(),i.content=[{body:"",media:[]}],b.value=!0},C=()=>{b.value=!1,i.reset()},A=m=>{w.value=m,a.name=m.name,a.description=m.description||"",a.content=m.content,a.category=m.category||"",k.value=!0},V=()=>{k.value=!1,w.value=null,a.reset()},F=()=>{i.post(route("mixpost.templates.store"),{preserveScroll:!0,onSuccess:()=>{C()}})},z=()=>{a.put(route("mixpost.templates.update",{postTemplate:w.value.id}),{preserveScroll:!0,onSuccess:()=>{V()}})},I=m=>{confirm("Are you sure you want to delete this template?")&&h.delete(route("mixpost.templates.delete",{postTemplate:m.id}),{preserveScroll:!0})},S=m=>{h.get(route("mixpost.templates.index"),m?{category:m}:{},{preserveState:!0,preserveScroll:!0})};return(m,e)=>(d(),u(v,null,[o(s(L),{title:"Post Templates"}),r("div",J,[o(Z,{title:"Post Templates"}),r("div",K,[o(G,null,{title:l(()=>e[9]||(e[9]=[n("Manage Templates")])),description:l(()=>e[10]||(e[10]=[n(" Save frequently used post formats for quick reuse. ")])),action:l(()=>[o($,{onClick:q,size:"sm"},{default:l(()=>[o(Y,{class:"w-4 h-4 mr-1"}),e[11]||(e[11]=n(" New Template "))]),_:1,__:[11]})]),default:l(()=>[g.categories.length>0?(d(),u("div",Q,[r("button",{onClick:e[0]||(e[0]=t=>S(null)),class:U(["px-3 py-1 text-sm rounded-full transition-colors",g.current_category?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600":"bg-primary-500 text-white"])}," All ",2),(d(!0),u(v,null,x(g.categories,t=>(d(),u("button",{key:t,onClick:N=>S(t),class:U(["px-3 py-1 text-sm rounded-full transition-colors",g.current_category===t?"bg-primary-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},y(t),11,X))),128))])):_("",!0),g.templates.length>0?(d(),u("div",ee,[(d(!0),u(v,null,x(g.templates,t=>(d(),u("div",{key:t.id,class:"relative p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-colors"},[r("div",te,[r("div",null,[r("h3",oe,y(t.name),1),t.category?(d(),u("p",se,y(t.category),1)):_("",!0)]),o(D,{class:"gap-1"},{default:l(()=>[r("button",{onClick:N=>A(t),class:"p-1 text-gray-400 hover:text-primary-500 transition-colors",title:"Edit"},[o(j,{class:"w-4 h-4"})],8,le),r("button",{onClick:N=>I(t),class:"p-1 text-gray-400 hover:text-red-500 transition-colors",title:"Delete"},[o(H,{class:"w-4 h-4"})],8,re)]),_:2},1024)]),t.description?(d(),u("p",ae,y(t.description),1)):_("",!0),r("p",ne,y(t.preview_text||"No content"),1),t.has_media?(d(),W(D,{key:1,class:"text-xs text-gray-400 gap-1"},{default:l(()=>[o(O,{class:"w-4 h-4"}),n(" "+y(t.media_count)+" media file"+y(t.media_count!==1?"s":""),1)]),_:2},1024)):_("",!0)]))),128))])):(d(),u("div",ie,[o(R,{class:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e[12]||(e[12]=r("p",{class:"font-medium"},"No templates yet",-1)),e[13]||(e[13]=r("p",{class:"text-sm mt-1"},"Create your first template to speed up your workflow.",-1))]))]),_:1})])]),o(E,{show:b.value,onClose:C,"max-width":"lg"},{header:l(()=>e[14]||(e[14]=[n(" Create Template ")])),body:l(()=>[r("div",de,[r("div",null,[o(p,{for:"name"},{default:l(()=>e[15]||(e[15]=[n("Template Name")])),_:1,__:[15]}),o(c,{id:"name",modelValue:s(i).name,"onUpdate:modelValue":e[1]||(e[1]=t=>s(i).name=t),placeholder:"e.g., Weekly Tip, Product Launch"},null,8,["modelValue"]),o(f,{message:s(i).errors.name},null,8,["message"])]),r("div",null,[o(p,{for:"description"},{default:l(()=>e[16]||(e[16]=[n("Description (optional)")])),_:1,__:[16]}),o(c,{id:"description",modelValue:s(i).description,"onUpdate:modelValue":e[2]||(e[2]=t=>s(i).description=t),placeholder:"Brief description of when to use this template"},null,8,["modelValue"]),o(f,{message:s(i).errors.description},null,8,["message"])]),r("div",null,[o(p,{for:"category"},{default:l(()=>e[17]||(e[17]=[n("Category (optional)")])),_:1,__:[17]}),o(c,{id:"category",modelValue:s(i).category,"onUpdate:modelValue":e[3]||(e[3]=t=>s(i).category=t),placeholder:"e.g., Marketing, Updates, Tips",list:"category-suggestions"},null,8,["modelValue"]),r("datalist",ue,[(d(!0),u(v,null,x(g.categories,t=>(d(),u("option",{key:t,value:t},null,8,me))),128))])]),r("div",null,[o(p,{for:"content"},{default:l(()=>e[18]||(e[18]=[n("Post Content")])),_:1,__:[18]}),o(B,{id:"content",modelValue:s(i).content[0].body,"onUpdate:modelValue":e[4]||(e[4]=t=>s(i).content[0].body=t),rows:"6",placeholder:"Write your template content here. You can use variables like {date} or {time}."},null,8,["modelValue"]),o(f,{message:s(i).errors.content},null,8,["message"])])])]),footer:l(()=>[o(M,{onClick:C},{default:l(()=>e[19]||(e[19]=[n("Cancel")])),_:1,__:[19]}),o($,{onClick:F,disabled:s(i).processing,class:"ml-2"},{default:l(()=>e[20]||(e[20]=[n(" Create Template ")])),_:1,__:[20]},8,["disabled"])]),_:1},8,["show"]),o(E,{show:k.value,onClose:V,"max-width":"lg"},{header:l(()=>e[21]||(e[21]=[n(" Edit Template ")])),body:l(()=>[r("div",ge,[r("div",null,[o(p,{for:"edit-name"},{default:l(()=>e[22]||(e[22]=[n("Template Name")])),_:1,__:[22]}),o(c,{id:"edit-name",modelValue:s(a).name,"onUpdate:modelValue":e[5]||(e[5]=t=>s(a).name=t)},null,8,["modelValue"]),o(f,{message:s(a).errors.name},null,8,["message"])]),r("div",null,[o(p,{for:"edit-description"},{default:l(()=>e[23]||(e[23]=[n("Description")])),_:1,__:[23]}),o(c,{id:"edit-description",modelValue:s(a).description,"onUpdate:modelValue":e[6]||(e[6]=t=>s(a).description=t)},null,8,["modelValue"]),o(f,{message:s(a).errors.description},null,8,["message"])]),r("div",null,[o(p,{for:"edit-category"},{default:l(()=>e[24]||(e[24]=[n("Category")])),_:1,__:[24]}),o(c,{id:"edit-category",modelValue:s(a).category,"onUpdate:modelValue":e[7]||(e[7]=t=>s(a).category=t),list:"category-suggestions-edit"},null,8,["modelValue"]),r("datalist",pe,[(d(!0),u(v,null,x(g.categories,t=>(d(),u("option",{key:t,value:t},null,8,ye))),128))])]),r("div",null,[o(p,{for:"edit-content"},{default:l(()=>e[25]||(e[25]=[n("Post Content")])),_:1,__:[25]}),o(B,{id:"edit-content",modelValue:s(a).content[0].body,"onUpdate:modelValue":e[8]||(e[8]=t=>s(a).content[0].body=t),rows:"6"},null,8,["modelValue"]),o(f,{message:s(a).errors.content},null,8,["message"])])])]),footer:l(()=>[o(M,{onClick:V},{default:l(()=>e[26]||(e[26]=[n("Cancel")])),_:1,__:[26]}),o($,{onClick:z,disabled:s(a).processing,class:"ml-2"},{default:l(()=>e[27]||(e[27]=[n(" Save Changes ")])),_:1,__:[27]},8,["disabled"])]),_:1},8,["show"])],64))}};export{Se as default};
