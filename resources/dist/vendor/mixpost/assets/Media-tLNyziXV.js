import{r as k,h as C,j as M,c as b,o as d,a as s,b as _,u as a,Z as A,w as t,F as x,e as j,g as p,d as l,t as E,I as F,p as S,f as z,k as D,P as O,N as Z}from"./app-B17NwYzj.js";import{u as q}from"./SearchInput-JfAUAv7N.js";import{u as G,_ as H,a as J,b as Q}from"./MediaGifs-C2iWIJP-.js";import{_ as R}from"./PageHeader-DfBjB2Gc.js";import{_ as U,T as W}from"./Tab-DKkB5Wtg.js";import{_ as X,a as Y}from"./PureDangerButton-pt7Cv9iX.js";import{_ as K}from"./DangerButton-M6w4ORa-.js";import{_ as h}from"./Panel-BlBCMgbm.js";import{_ as ee}from"./ConfirmationModal-BmvKzcUe.js";import{T as se}from"./Trash-BfWq0Mu2.js";import"./Input-CCipsDxT.js";import"./MediaFile-ggOXxzkB.js";import"./ExclamationCircle-DKNhmWmZ.js";import"./helpers-DTDqKbjy.js";import"./NoResult-DvAamqXx.js";import"./Alert-QzGr-fkL.js";import"./PrimaryButton-C9dUpZNY.js";import"./useNotifications-CLW479K0.js";import"./DialogModal-BYxkMqdg.js";import"./PureButton-Cwn7JU-l.js";const te={class:"w-full mx-auto row-py"},oe={class:"w-full row-px"},ae={class:"w-full row-px mt-lg"},Le={__name:"Media",setup(ie){const{activeTab:r,tabs:y,isDownloading:v,isDeleting:w,downloadExternal:P,deletePermanently:L}=G(),N={uploads:Q,stock:J,gifs:H},n=k(),T=C(()=>N[r.value]),c=C(()=>n.value?n.value.selected:[]),$=()=>{n.value.deselectAll()},V=()=>{const o=r.value!=="uploads";o&&P(c.value.map(e=>{const{id:f,url:i,download_data:u}=e;return{id:f,url:i,download_data:u}}),e=>{g(e.data)}),o||g(c.value)},{versionContentObject:B}=q(),g=o=>{Z.post(route("mixpost.posts.store"),{versions:[{account_id:0,is_original:!0,content:[B("",o.map(e=>e.id))]}]})},m=k(!1),I=()=>{const o=c.value.map(e=>e.id);L(o,()=>{$(),n.value.removeItems(o),m.value=!1})};return(o,e)=>{const f=M("tooltip");return d(),b(x,null,[s(a(A),{title:"Media Library"}),_("div",te,[s(R,{title:"Media Library"}),_("div",oe,[s(W,null,{default:t(()=>[(d(!0),b(x,null,j(a(y),(i,u)=>(d(),p(U,{key:u,onClick:le=>r.value=u,active:a(r)===u},{default:t(()=>[l(E(i),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_("div",ae,[s(h,null,{default:t(()=>[(d(),p(F(T.value),{ref_key:"sourceProperties",ref:n,columns:4},null,512)),s(X,{count:c.value.length,onClose:e[1]||(e[1]=i=>$())},{default:t(()=>[s(D,{onClick:V,isLoading:a(v),disabled:a(v),class:"mr-sm",size:"xs"},{default:t(()=>[s(O,{class:"mr-xs"}),e[4]||(e[4]=l(" Create Post "))]),_:1,__:[4]},8,["isLoading","disabled"]),a(r)==="uploads"?S((d(),p(Y,{key:0,onClick:e[0]||(e[0]=i=>m.value=!0)},{default:t(()=>[s(se)]),_:1})),[[f,"Delete"]]):z("",!0)]),_:1},8,["count"])]),_:1})])]),s(ee,{show:m.value,variant:"danger",onClose:e[3]||(e[3]=i=>m.value=!1)},{header:t(()=>e[5]||(e[5]=[l(" Delete media ")])),body:t(()=>e[6]||(e[6]=[l(" Are you sure you want to delete selected media items? ")])),footer:t(()=>[s(D,{onClick:e[2]||(e[2]=i=>m.value=!1),class:"mr-xs"},{default:t(()=>e[7]||(e[7]=[l("Cancel")])),_:1,__:[7]}),s(K,{isLoading:a(w),disabled:a(w),onClick:I},{default:t(()=>e[8]||(e[8]=[l("Delete")])),_:1,__:[8]},8,["isLoading","disabled"])]),_:1},8,["show"])],64)}}};export{Le as default};
