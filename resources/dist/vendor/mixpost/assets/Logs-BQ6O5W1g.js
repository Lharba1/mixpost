import{r as y,E as k,h as w,c as u,o as t,a,b as l,u as x,Z as $,w as s,F as c,e as h,g as d,d as r,t as v,S as C,f as p,N as L}from"./app-D_gOH8xG.js";import{_ as N}from"./PageHeader-GHBQYzG2.js";import{_ as b}from"./Panel-If-MPbxq.js";import{_ as B,T as S}from"./Tab-D610Mp2J.js";import{_ as T}from"./Alert-BsvLVZtB.js";import{_ as V}from"./Textarea-BdPz9_Jz.js";import{_ as D}from"./PrimaryButton-BOe2nfm5.js";import{_ as E}from"./DangerButton-oQxGGY2P.js";import{_ as F}from"./NoResult-BYsktPUH.js";const I={class:"w-full mx-auto row-py"},q={class:"w-full row-px"},A={class:"mt-lg row-px w-full"},M={class:"mt-md"},Z=["href"],U={__name:"Logs",props:{logs:{required:!0,type:Array}},setup(_){const f=_,n=y(null);k(()=>{f.logs.length&&(n.value=f.logs[0].name)});const o=w(()=>{const m=f.logs.find(e=>e.name===n.value);return m||!1}),g=()=>{L.delete(route("mixpost.system.logs.clear"),{data:{filename:o.value.name}})};return(m,e)=>(t(),u(c,null,[a(x($),{title:"System Logs"}),l("div",I,[a(N,{title:"System Logs"}),l("div",q,[a(S,null,{default:s(()=>[(t(!0),u(c,null,h(_.logs,i=>(t(),d(B,{key:i.name,onClick:j=>n.value=i.name,active:n.value===i.name},{icon:s(()=>[a(C)]),default:s(()=>[r(" "+v(i.name),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),l("div",A,[a(b,{class:"mt-lg"},{default:s(()=>[_.logs.length?(t(),u(c,{key:0},[o.value?(t(),u(c,{key:0},[o.value.error?(t(),d(T,{key:0,closeable:!1,variant:"warning",class:"mb-md"},{default:s(()=>[r(v(o.value.error),1)]),_:1})):p("",!0),a(V,{value:o.value.contents,class:"h-96",readonly:""},null,8,["value"])],64)):p("",!0),l("div",M,[l("a",{href:m.route("mixpost.system.logs.download",{filename:o.value.name}),target:"_blank"},[a(D,{class:"mr-xs rtl:mr-0 rtl:ml-xs"},{default:s(()=>e[0]||(e[0]=[r("Download")])),_:1,__:[0]})],8,Z),a(E,{onClick:g},{default:s(()=>e[1]||(e[1]=[r("Clean up")])),_:1,__:[1]})])],64)):(t(),d(F,{key:1},{default:s(()=>e[2]||(e[2]=[r(" There are no logs. ")])),_:1,__:[2]}))]),_:1})])])],64))}};export{U as default};
