import{j as b,c as o,o as r,a,b as t,u as C,Z as N,w as d,d as n,F as u,e as y,n as P,t as l,p as $,g as A,f as g,k as D,N as f}from"./app-BHAvHWIc.js";import{_ as R}from"./PageHeader-JbUbHMOI.js";import{_ as S}from"./Panel-DpqujhQC.js";import{_ as B}from"./Badge-BAc0QeGC.js";import{T as V}from"./Trash-DSGJg2Np.js";import{A as x}from"./ArrowPath-BU0LYdGt.js";import{_ as z}from"./Account-CC3LlYHf.js";import"./ProviderIcon-CvcVOENg.js";import"./ExclamationCircle-DEIMMHPv.js";const E={class:"row-py mb-2xl w-full mx-auto"},F={class:"row-px"},T={key:0,class:"space-y-4"},j={class:"flex-1 min-w-0"},L={class:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate mb-2"},M={class:"flex items-center gap-1 mb-2"},U={class:"flex flex-wrap items-center gap-3 text-xs text-gray-500 dark:text-gray-400"},Z={class:"flex items-center gap-1"},q={key:0},G={class:"flex items-center gap-2 ml-4"},H=["onClick"],I={key:1,class:"text-center py-8 text-gray-500"},se={__name:"ContentRecycling",props:{recycling_posts:{type:Array,default:()=>[]}},setup(m){const v=i=>i?new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):"Not scheduled",h=i=>{f.put(route("mixpost.recycling.toggle",{recyclingPost:i.uuid}),{},{preserveScroll:!0})},k=i=>{confirm("Stop recycling this post?")&&f.delete(route("mixpost.recycling.destroy",{recyclingPost:i.uuid}),{preserveScroll:!0})};return(i,s)=>{const w=b("tooltip");return r(),o(u,null,[a(C(N),{title:"Evergreen Content"}),t("div",E,[a(R,{title:"Evergreen Content"},{description:d(()=>s[0]||(s[0]=[n(" Manage posts that automatically recycle on a schedule. ")])),_:1}),t("div",F,[a(S,null,{title:d(()=>s[1]||(s[1]=[n("Recycling Posts")])),description:d(()=>s[2]||(s[2]=[n(" Posts configured to automatically republish on a recurring schedule. ")])),default:d(()=>[m.recycling_posts.length>0?(r(),o("div",T,[(r(!0),o(u,null,y(m.recycling_posts,e=>{var p,_;return r(),o("div",{key:e.uuid,class:P(["flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",{"opacity-60":!e.is_active}])},[t("div",j,[t("p",L,l(((p=e.post)==null?void 0:p.excerpt)||"No content"),1),t("div",M,[(r(!0),o(u,null,y((_=e.post)==null?void 0:_.accounts,c=>$((r(),A(z,{key:c.id,provider:c.provider,name:c.name,"img-url":c.image,size:"sm"},null,8,["provider","name","img-url"])),[[w,c.name]])),128))]),t("div",U,[t("span",Z,[a(x,{class:"w-3 h-3"}),n(" "+l(e.interval_description),1)]),t("span",null,[n(" Recycled "+l(e.recycle_count)+" times ",1),e.max_recycles?(r(),o(u,{key:0},[n(" / "+l(e.max_recycles)+" max ",1)],64)):g("",!0)]),e.next_recycle_at?(r(),o("span",q," Next: "+l(v(e.next_recycle_at)),1)):g("",!0)])]),t("div",G,[a(B,{variant:e.is_active?"success":"default"},{default:d(()=>[n(l(e.is_active?"Active":"Paused"),1)]),_:2},1032,["variant"]),a(D,{size:"sm",onClick:c=>h(e)},{default:d(()=>[n(l(e.is_active?"Pause":"Resume"),1)]),_:2},1032,["onClick"]),t("button",{onClick:c=>k(e),class:"p-2 text-gray-400 hover:text-red-500"},[a(V,{class:"w-4 h-4"})],8,H)])],2)}),128))])):(r(),o("div",I,[a(x,{class:"w-12 h-12 mx-auto mb-4 text-gray-400"}),s[3]||(s[3]=t("p",null,"No evergreen content yet.",-1)),s[4]||(s[4]=t("p",{class:"text-sm"},"Add posts to recycling from the post editor.",-1))]))]),_:1})])])],64)}}};export{se as default};
