import{r as f,h,c as r,o as i,a,b as s,u as D,Z as V,w as o,d,k as A,t as n,F as m,e as c,q as $,cg as N,N as C}from"./app-NUlG-GPf.js";import{_ as S}from"./PageHeader-DUhTkuU_.js";import{_ as x}from"./Panel-gVeqz2-S.js";import{_ as B}from"./Badge-CsRE_ee7.js";import{_ as F}from"./PrimaryButton-D8LBWSS6.js";import{_}from"./Input-Cx9dsStV.js";import{_ as v}from"./Label-Dv64VmDx.js";import{_ as P}from"./Account-CaetlTRA.js";import{A as R}from"./ArrowPath-Bif0JerF.js";import"./ProviderIcon-Bx9AII1D.js";import"./ExclamationCircle-CMuSyUcB.js";const j={class:"row-py mb-2xl w-full mx-auto"},z={class:"row-px"},E={class:"flex flex-wrap items-end gap-4"},O={class:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6"},T={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow"},U={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},q={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow"},L={class:"text-2xl font-bold text-green-600"},M={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow"},Z={class:"text-2xl font-bold text-blue-600"},G={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow"},H={class:"text-2xl font-bold text-gray-600"},I={class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow"},J={class:"text-2xl font-bold text-red-600"},K={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Q={key:0,class:"space-y-2"},W={class:"text-xs text-gray-500 w-20"},X={class:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-4"},Y={class:"text-xs font-medium w-8 text-right"},tt={key:1,class:"text-center py-8 text-gray-500"},st={key:0,class:"space-y-3"},et={class:"flex items-center gap-3"},at={class:"font-medium text-gray-900 dark:text-gray-100"},ot={key:1,class:"text-center py-8 text-gray-500"},ft={__name:"Reports",props:{stats:{type:Object,default:()=>({})},account_stats:{type:Array,default:()=>[]},posting_activity:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})}},setup(l){const u=l,g=f(u.filters.start_date||""),p=f(u.filters.end_date||""),b=()=>{C.get(route("mixpost.reports"),{start_date:g.value,end_date:p.value},{preserveState:!0})},w=()=>{window.location.href=route("mixpost.reports.export",{start_date:g.value,end_date:p.value})},k=h(()=>u.posting_activity.length?Math.max(...u.posting_activity.map(y=>y.count)):1);return(y,t)=>(i(),r(m,null,[a(D(V),{title:"Reports"}),s("div",j,[a(S,{title:"Reports"},{description:o(()=>t[2]||(t[2]=[d(" Analyze your social media performance with detailed statistics. ")])),_:1}),s("div",z,[a(x,{class:"mb-6"},{default:o(()=>[s("div",E,[s("div",null,[a(v,{for:"startDate"},{default:o(()=>t[3]||(t[3]=[d("Start Date")])),_:1,__:[3]}),a(_,{id:"startDate",modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=e=>g.value=e),type:"date",class:"w-40"},null,8,["modelValue"])]),s("div",null,[a(v,{for:"endDate"},{default:o(()=>t[4]||(t[4]=[d("End Date")])),_:1,__:[4]}),a(_,{id:"endDate",modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=e=>p.value=e),type:"date",class:"w-40"},null,8,["modelValue"])]),a(A,{onClick:b},{default:o(()=>[a(R,{class:"w-4 h-4 mr-1"}),t[5]||(t[5]=d(" Apply Filters "))]),_:1,__:[5]}),a(F,{onClick:w},{default:o(()=>t[6]||(t[6]=[d(" Export CSV ")])),_:1,__:[6]})])]),_:1}),s("div",O,[s("div",T,[t[7]||(t[7]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Posts",-1)),s("p",U,n(l.stats.total_posts||0),1)]),s("div",q,[t[8]||(t[8]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Published",-1)),s("p",L,n(l.stats.published||0),1)]),s("div",M,[t[9]||(t[9]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Scheduled",-1)),s("p",Z,n(l.stats.scheduled||0),1)]),s("div",G,[t[10]||(t[10]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Drafts",-1)),s("p",H,n(l.stats.draft||0),1)]),s("div",I,[t[11]||(t[11]=s("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Failed",-1)),s("p",J,n(l.stats.failed||0),1)])]),s("div",K,[a(x,null,{title:o(()=>t[12]||(t[12]=[d("Posting Activity")])),description:o(()=>t[13]||(t[13]=[d("Daily post publishing trends")])),default:o(()=>[l.posting_activity.length>0?(i(),r("div",Q,[(i(!0),r(m,null,c(l.posting_activity,e=>(i(),r("div",{key:e.date,class:"flex items-center gap-2"},[s("span",W,n(e.date),1),s("div",X,[s("div",{class:"bg-indigo-500 h-4 rounded-full",style:$({width:`${e.count/k.value*100}%`})},null,4)]),s("span",Y,n(e.count),1)]))),128))])):(i(),r("div",tt,[a(N,{class:"w-12 h-12 mx-auto mb-4 text-gray-400"}),t[14]||(t[14]=s("p",null,"No activity in this period.",-1))]))]),_:1}),a(x,null,{title:o(()=>t[15]||(t[15]=[d("Posts by Account")])),description:o(()=>t[16]||(t[16]=[d("Breakdown of posts per connected account")])),default:o(()=>[l.account_stats.length>0?(i(),r("div",st,[(i(!0),r(m,null,c(l.account_stats,e=>(i(),r("div",{key:e.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg"},[s("div",et,[a(P,{provider:e.provider,name:e.name,"img-url":e.image,size:"sm"},null,8,["provider","name","img-url"]),s("span",at,n(e.name),1)]),a(B,{variant:"default"},{default:o(()=>[d(n(e.post_count)+" posts",1)]),_:2},1024)]))),128))])):(i(),r("div",ot,t[17]||(t[17]=[s("p",null,"No accounts found.",-1)])))]),_:1})])])])],64))}};export{ft as default};
